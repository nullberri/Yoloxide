(this["webpackJsonpyoloxide-ui"]=this["webpackJsonpyoloxide-ui"]||[]).push([[0],{47:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));var a=n(0),r=n(38),c=n(508),i=n(510),o=function(e,t){Object(a.useEffect)((function(){if(t.current){var n=e.split("\n"),a=[];n.forEach((function(e,t){t>=20&&a.push({column:0,row:t,text:"Error exceeding 20 lines, Line will not execute",type:"error"}),e.length>70&&a.push({column:0,row:t,text:"Warning exceeding 70 charactors",type:"warning"})})),t.current.editor.getSession().setAnnotations(a)}}),[e,t])},l=Object(c.a)(Object(i.a)({highlightRow:{backgroundColor:"rgba(0,0,255,0.1)",position:"absolute"}})),u=function(e,t){var n=l();Object(a.useEffect)((function(){if(t.current){var a=t.current.editor.getSession();Object.values(a.getMarkers()).forEach((function(e){"fullLine"===e.type&&a.removeMarker(e.id)}));var c=new r.Range(e,0,e,100);a.addMarker(c,n.highlightRow,"fullLine",!1),t.current.editor.renderer.updateFrontMarkers()}}),[e,n,t])},d=function(e){return Object(a.useCallback)((function(t){var n,a;null===(n=e.current)||void 0===n||n.editor.moveCursorToPosition({column:0,row:t}),null===(a=e.current)||void 0===a||a.editor.getSession().getSelection().clearSelection()}),[e])}},506:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),i=n.n(c),o=(n(76),n(17)),l=n(555),u=n(551),d=n(539),s=n(554),v=n(543),m=n(16),f=Object(m.b)(),b=Object(m.c)({reducers:{addDevice:f.addOne,removeDevice:f.removeOne,updateDevice:f.updateOne},extraReducers:{},initialState:f.getInitialState(),name:"devices"}),h=b.reducer,E=b.actions,g=n(36),O=n(46);n.e(3).then(n.bind(null,556)).then((function(e){var t=e.wasm_execute_line;x=t}));var x=void 0;new Array(20).fill("\n");function j(e){return{id:Object(m.e)(10),code:"",name:null!==e&&void 0!==e?e:"new Device",errors:[],executing:!1,executionHistory:[{tick:0,line:-1,localEnv:{},nextLine:1}],ticks:0}}var p=f.getSelectors((function(e){return e.devices}));function w(e){return function(t,n){var a=p.selectById(n(),e);if(!a)throw new Error("Invalid Id");var r=a.executionHistory[0],c=r.nextLine,i=r.localEnv,o=function(e,t){var n;return null!==(n=e.split("\n")[t-1])&&void 0!==n?n:""}(a.code,c),l=function(e,t,n,a){if(!x)throw new Error("Emulator not loaded");var r=x({next_line:t,local_context:n,global_context:a,name:"",version:"0.3.2",error:""},e);return{nextLineNumber:r.next_line,localEnv:r.local_context,globalEnv:r.global_context,error:r.error}}(o,c,i,{}),u={executionHistory:[{tick:a.executionHistory[0].tick+1,line:c,nextLine:l.nextLineNumber,code:o,localEnv:l.localEnv}].concat(Object(O.a)(a.executionHistory)).slice(0,1e3)};l.error&&(u.errors=a.errors.concat({lineNumber:c,message:l.error})),t(E.updateDevice({id:e,changes:u}))}}var k=function(){};function y(){var e=Object(g.b)(),t=Object(a.useMemo)((function(){return f.getSelectors((function(e){return e.devices}))}),[]),n=Object(g.c)(t.selectAll),r=Object(a.useState)("none"),c=Object(o.a)(r,2),i=c[0],l=c[1],u=Object(a.useCallback)((function(){e(E.addDevice(j("New Device "+n.length)))}),[e,n]),d=Object(a.useCallback)((function(t){e(E.removeDevice(t))}),[e]),s=Object(a.useCallback)((function(t,n){e(E.updateDevice({id:t,changes:n}))}),[e]),v=Object(a.useCallback)((function(t){e(w(t))}),[e]),m=Object(a.useCallback)((function(t){e(function(e){return function(t,n){var a=p.selectById(n(),e);if(!a)throw new Error("Invalid Id");a.executionHistory.length>1&&t(E.updateDevice({id:e,changes:{executionHistory:a.executionHistory.slice(1)}}))}}(t))}),[e]);return function(e,t,n){var r=Object(a.useRef)(k);Object(a.useEffect)((function(){r.current=e})),Object(a.useEffect)((function(){n&&void 0!==t&&r.current()}),[n,t]),Object(a.useEffect)((function(){if(void 0!==t){var e=setInterval((function(){return r.current()}),t);return function(){return clearInterval(e)}}}))}(Object(a.useCallback)((function(){v(n[0].id)}),[v,n]),"running"===i?200:void 0),{addDevice:u,removeDevice:d,updateDevice:s,devices:n,stepDeviceForward:v,stepDeviceBack:m,setExecutionMode:l,executionMode:i}}var C=function(e){var t=e.onChanged,n=y().devices,c=Object(a.useState)(0),i=Object(o.a)(c,2),l=i[0],u=i[1],m=Object(a.useCallback)((function(e,t){u(t)}),[]);return Object(a.useEffect)((function(){t(n[l])}),[n,t,l]),r.a.createElement(d.a,null,n.length>0&&r.a.createElement(s.a,{value:l,onChange:m},n.map((function(e,t){return r.a.createElement(v.a,{key:e.name,value:t,label:e.name})}))))},D=n(544),S=n(545),H=n(553),I=function(e){var t=e.device,n=y(),a=n.removeDevice,c=n.updateDevice,i=n.stepDeviceForward,o=n.stepDeviceBack,l=n.setExecutionMode,u=n.executionMode;return r.a.createElement(d.a,null,r.a.createElement(D.a,{onClick:function(){o(t.id)},variant:"contained",color:"primary"},"<"),r.a.createElement(D.a,{onClick:function(){i(t.id)},variant:"contained",color:"primary"},">"),r.a.createElement(D.a,{onClick:function(){"none"===u?(c(t.id,{executionHistory:[{tick:0,line:-1,localEnv:{},nextLine:1}]}),l("running")):l("none")},variant:"contained",color:"secondary"},"Run Code"),r.a.createElement(S.a,null,"Device Name:"),r.a.createElement(H.a,{value:t.name,onChange:function(e){c(t.id,{name:e.target.value})}}),r.a.createElement(D.a,{onClick:function(){a(t.id)}},"Delete Device"))},L=n(61),M=n(507),R=n(546),N=n(547),_=n(548),A=n(549),B=n(550),V=function(e){var t=e.executionHistory;return r.a.createElement(R.a,null,r.a.createElement(N.a,null,r.a.createElement(_.a,null,r.a.createElement(A.a,null,"Name"),r.a.createElement(A.a,null,"Value"))),r.a.createElement(B.a,null,Object.entries(t.localEnv).sort((function(e,t){var n=Object(o.a)(e,1)[0],a=Object(o.a)(t,1)[0];return n.localeCompare(a)})).map((function(e){var t,n=Object(o.a)(e,2),a=n[0],c=n[1];return r.a.createElement(_.a,{key:a},r.a.createElement(A.a,null,a),r.a.createElement(A.a,null,(t=c).NumberVal?t.NumberVal:'"'.concat(t.StringVal,'"')))}))))},W=function(e){var t=e.executionHistory.slice(0,20).map((function(e){return r.a.createElement(M.a,{style:{margin:5,marginBottom:8,padding:8}},r.a.createElement("div",{key:e.tick},r.a.createElement("span",null,"Line: ",e.line),r.a.createElement("span",null,"Tick: ",e.tick),r.a.createElement("span",null,"Time: ",new Date(200*e.tick).toISOString().substr(11,10)),r.a.createElement(V,{executionHistory:e})))}));return r.a.createElement(r.a.Fragment,null,t)},F=Object(l.a)("div")({flex:"1 1 auto",width:"100%",overflow:"hidden"}),T=Object(l.a)("div")({display:"flex",flexDirection:"column",flexWrap:"nowrap",height:"100%",width:"100%",overflow:"hidden"}),P=function(e){var t=Object(a.useState)(),n=Object(o.a)(t,2),c=n[0],i=n[1],l=function(){var e=Object(g.b)();return{setCode:Object(a.useCallback)((function(t,n){e(E.updateDevice({id:t,changes:{code:n}}))}),[e])}}().setCode,d=Object(a.useCallback)((function(e){(null===c||void 0===c?void 0:c.id)&&l(c.id,e)}),[c,l]);return r.a.createElement(T,null,r.a.createElement(C,{onChanged:i}),c&&r.a.createElement(I,{device:c}),c&&r.a.createElement(F,null,r.a.createElement(u.a,{container:!0,style:{height:"100%"}},r.a.createElement(u.a,{xs:12,xl:4,item:!0,style:{padding:8}},r.a.createElement(L.a,{code:c.code,highlightedRow:c.executionHistory[0].line,onCodeChanged:d,readonly:!1})),r.a.createElement(u.a,{xs:12,xl:2,item:!0,style:{height:"100%",overflow:"auto"}},r.a.createElement(W,{executionHistory:c.executionHistory})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(89),n(504),n(505);var z=Object(m.b)(),J=Object(m.c)({reducers:{addVariable:z.addOne,removeVarable:z.removeOne,setEnvironment:z.setAll,resetEnvironment:z.removeAll},extraReducers:{},initialState:z.getInitialState(),name:"globalEnvironment"}),$=J.reducer,G=(J.actions,{globalEnvironment:$,devices:h}),Y=Object(O.a)(Object(m.d)()),q=Object(m.a)({reducer:G,middleware:Y,devTools:!1});q.dispatch(E.addDevice(j()));var K=function(e){var t=e.children;return r.a.createElement(g.a,{store:q},t)},Q=n(552),U=Object(l.a)("div")({flex:"1 1 auto",width:"100%",overflow:"hidden"}),X=Object(l.a)("div")({display:"flex",flexDirection:"column",flexWrap:"nowrap",height:"100%",width:"100%",overflow:"hidden"}),Z=function(e){var t=e.children,n=y().addDevice;return r.a.createElement(X,null,r.a.createElement(Q.a,{position:"static"},r.a.createElement(d.a,null,r.a.createElement(S.a,null,"Yolol Emulator"),r.a.createElement(D.a,{onClick:n,color:"inherit"},"Add Device"))),r.a.createElement(U,null,t))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(K,null,r.a.createElement(Z,null,r.a.createElement(P,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(0),r=n.n(a),c=n(62),i=n.n(c),o=n(63),l=n(47),u=function(t){var n=t.code,c=t.onCodeChanged,u=t.highlightedRow,d=t.readonly,s=Object(a.useRef)(null);Object(l.a)(n,s),Object(l.c)(u,s);var v=Object(l.b)(s);return r.a.createElement(o.a,null,(function(t){var a=t.width;return r.a.createElement(i.a,{ref:s,width:a+"px",mode:"javascript",theme:"github",onLoad:function(){return e((function(){return v(0)}))},name:"code-editor",value:n,onChange:c,readOnly:d,fontSize:14,showPrintMargin:!0,showGutter:!0,highlightActiveLine:!0,setOptions:{showLineNumbers:!0,tabSize:2,printMarginColumn:70,useWorker:!1},editorProps:{$blockScrolling:!0}})}))}}).call(this,n(81).setImmediate)},71:function(e,t,n){e.exports=n(506)},76:function(e,t,n){}},[[71,1,2]]]);
//# sourceMappingURL=main.7a4612c6.chunk.js.map